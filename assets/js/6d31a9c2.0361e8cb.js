"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[11156],{29215:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});var a=n(74848),s=n(28453);const t={id:"atlas",title:"Atlas\uc640 SQLAlchemy \uc5f0\ub3d9\ud558\uae30",sidebar_label:"Atlas",description:"Atlas\uc640 SQLAlchemy \uc5f0\ub3d9\ud558\uae30",keywords:["atlas","sqlalchemy","schema","migration"]},r=void 0,i={id:"lang/python/libraries/sqlalchemy/atlas",title:"Atlas\uc640 SQLAlchemy \uc5f0\ub3d9\ud558\uae30",description:"Atlas\uc640 SQLAlchemy \uc5f0\ub3d9\ud558\uae30",source:"@site/docs/lang/python/libraries/sqlalchemy/atlas.mdx",sourceDirName:"lang/python/libraries/sqlalchemy",slug:"/lang/python/libraries/sqlalchemy/atlas",permalink:"/docs/lang/python/libraries/sqlalchemy/atlas",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1729608136e3,frontMatter:{id:"atlas",title:"Atlas\uc640 SQLAlchemy \uc5f0\ub3d9\ud558\uae30",sidebar_label:"Atlas",description:"Atlas\uc640 SQLAlchemy \uc5f0\ub3d9\ud558\uae30",keywords:["atlas","sqlalchemy","schema","migration"]},sidebar:"python",previous:{title:"SQLAlchemy",permalink:"/docs/lang/python/libraries/sqlalchemy/"},next:{title:"Basics",permalink:"/docs/lang/python/package/pybind11/"}},c={},o=[{value:"\uc2a4\ud0a4\ub9c8 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc0dd\uc131",id:"\uc2a4\ud0a4\ub9c8-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc0dd\uc131",level:2}];function d(e){const l={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.h2,{id:"\uc2a4\ud0a4\ub9c8-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc0dd\uc131",children:"\uc2a4\ud0a4\ub9c8 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc0dd\uc131"}),"\n",(0,a.jsxs)(l.ul,{children:["\n",(0,a.jsx)(l.li,{children:(0,a.jsx)(l.a,{href:"https://atlasgo.io/guides/orms/sqlalchemy",children:"Automatic migration planning for SQLAlchemy"})}),"\n"]}),"\n",(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-shell",children:"python3 -m pip install atlas-provider-sqlalchemy\n"})}),"\n",(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-hcl",children:'data "external_schema" "sqlalchemy" {\n  # \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uba74 SQL \ubb38\uc774 \ucd9c\ub825\ub429\ub2c8\ub2e4.\n  program = [\n    "atlas-provider-sqlalchemy",\n    "--path",\n    "./db",\n    "--dialect",\n    "postgresql"\n  ]\n}\n\nenv "sqlalchemy" {\n  src = data.external_schema.sqlalchemy.url\n  dev = "docker://postgresql/15/dev"\n  migration {\n    dir = "file://migrations"\n  }\n  format {\n    migrate {\n      diff = "{{ sql . \\"  \\" }}"\n    }\n  }\n}\n'})}),"\n",(0,a.jsxs)(l.admonition,{type:"info",children:[(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-python",metastring:'title="atlas_models.py"',children:'# import one of the models\nfrom models import User\nfrom atlas_provider_sqlalchemy.ddl import print_ddl\n\nprint_ddl("postgresql", [User])\n'})}),(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-hcl",children:'data "external_schema" "sqlalchemy" {\n  # \uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uba74 SQL \ubb38\uc774 \ucd9c\ub825\ub429\ub2c8\ub2e4.\n  program = [\n    "python3",\n    "atlas_models.py"\n  ]\n}\n'})}),(0,a.jsx)(l.p,{children:"\uc704\uc640 \uac19\uc740 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."})]}),"\n",(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-shell",children:"atlas migrate diff --env sqlalchemy\n"})}),"\n",(0,a.jsxs)(l.p,{children:["SQLAlchemy \ubaa8\ub378\uc744 \ubcc0\uacbd\ud558\uace0 \uc704 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud560\ub54c\ub9c8\ub2e4 \uc801\uc6a9\ud574\uc57c\ud560 SQL\ud30c\uc77c\uc744 migrations \ub514\ub809\ud1a0\ub9ac\uc5d0 \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc0dd\uc131\ub41c \ud30c\uc77c\uc744 \uc9c1\uc811 \uc218\uc815\ud574\uc57c\ud558\ub294 \uacbd\uc6b0, \uc218\uc815 \ud6c4 \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 ",(0,a.jsx)(l.code,{children:"atlas.sum"})," \ud30c\uc77c\uc744 \uc5c5\ub370\uc774\ud2b8\ud574\uc57c\ud569\ub2c8\ub2e4."]}),"\n",(0,a.jsx)(l.pre,{children:(0,a.jsx)(l.code,{className:"language-shell",children:"atlas migrate hash\n"})})]})}function h(e={}){const{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,a.jsx)(l,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,l,n)=>{n.d(l,{R:()=>r,x:()=>i});var a=n(96540);const s={},t=a.createContext(s);function r(e){const l=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function i(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(t.Provider,{value:l},e.children)}}}]);