"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[89201],{18045:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>t});var l=s(74848),i=s(28453);const r={id:"ansible",title:"Ansible \uae30\ubcf8 \uc548\ub0b4",sidebar_label:"Ansible \uae30\ubcf8 \uc548\ub0b4",description:"Ansible \uae30\ubcf8 \uc548\ub0b4",keywords:["Ansible"]},o=void 0,c={id:"mlops/mlops/ansible/ansible",title:"Ansible \uae30\ubcf8 \uc548\ub0b4",description:"Ansible \uae30\ubcf8 \uc548\ub0b4",source:"@site/docs/mlops/mlops/ansible/ansible.mdx",sourceDirName:"mlops/mlops/ansible",slug:"/mlops/mlops/ansible/",permalink:"/docs/mlops/mlops/ansible/",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1722712721e3,frontMatter:{id:"ansible",title:"Ansible \uae30\ubcf8 \uc548\ub0b4",sidebar_label:"Ansible \uae30\ubcf8 \uc548\ub0b4",description:"Ansible \uae30\ubcf8 \uc548\ub0b4",keywords:["Ansible"]},sidebar:"mlops",previous:{title:"\ub9ac\uc18c\uc2a4 \uc0ad\uc81c\ud558\uae30",permalink:"/docs/mlops/mlops/terraform/remove"},next:{title:"\uc124\uc815",permalink:"/docs/mlops/mlops/ansible/config"}},d={},t=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"Control node",id:"control-node",level:2},{value:"Directory structure",id:"directory-structure",level:2},{value:"Inventory",id:"inventory",level:2},{value:"Playbook",id:"playbook",level:2},{value:"Playbook \uc2e4\ud589",id:"playbook-\uc2e4\ud589",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"python3 -m pip install ansible\n"})}),"\n",(0,l.jsx)(n.h2,{id:"control-node",children:"Control node"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/docs/lang/etc/command-line-tools/remote/ssh",children:"SSH \ud0a4 \uc0dd\uc131 \ud6c4 Managed node\uc5d0 \ud0a4 \ucd94\uac00"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"directory-structure",children:"Directory structure"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.ansible.com/ansible/2.8/user_guide/playbooks_best_practices.html#alternative-directory-layout",children:"https://docs.ansible.com/ansible/2.8/user_guide/playbooks_best_practices.html#alternative-directory-layout"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"<playbook>/\n\u251c\u2500\u2500 ansible.cfg # \uc124\uc815 \ud30c\uc77c\n\u251c\u2500\u2500 inventories/\n\u2502   \u251c\u2500\u2500 <inventory>/\n\u2502   \u2502   \u251c\u2500\u2500 hosts.yaml\n\u2502   \u2502   \u251c\u2500\u2500 group_vars/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 <group>/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 <vars>.yaml\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 <group>.yaml\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502   \u2514\u2500\u2500  host_vars/\n\u2502   \u2502       \u251c\u2500\u2500 <host>/\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 <vars>.yaml\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502       \u251c\u2500\u2500 <host>.yaml\n\u2502   \u2502       \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 group_vars/\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 host_vars/\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 library/ # \ucee4\uc2a4\ud140 \ubaa8\ub4c8\n\u251c\u2500\u2500 module_utils/ # \ucee4\uc2a4\ud140 \ubaa8\ub4c8 \uc720\ud2f8\n\u251c\u2500\u2500 filter_plugins/ # \ucee4\uc2a4\ud140 \ud544\ud130 \ud50c\ub7ec\uadf8\uc778\n\u251c\u2500\u2500 <purpose>.yaml # playbook\n\u251c\u2500\u2500 ...\n\u2514\u2500\u2500 roles/\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,l.jsx)(n.h2,{id:"inventory",children:"Inventory"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/docs/mlops/mlops/ansible/inventory",children:"Inventory"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"playbook",children:"Playbook"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="example.yaml"',children:'- hosts: all\n  gather_facts: false\n  tasks:\n    - name: "example"\n      command: "echo hello"\n'})}),"\n",(0,l.jsx)(n.p,{children:"\uc2e4\ud589 \uc21c\uc11c\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"pre_tasks"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"pre_tasks"}),"\uc5d0 \uc758\ud574 \ud638\ucd9c\ub418\ub294 ",(0,l.jsx)(n.code,{children:"handlers"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"roles"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"tasks"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"roles"}),"\ub610\ub294 ",(0,l.jsx)(n.code,{children:"tasks"}),"\uc5d0 \uc758\ud574 \ud638\ucd9c\ub418\ub294 ",(0,l.jsx)(n.code,{children:"handlers"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"post_tasks"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"post_tasks"}),"\uc5d0 \uc758\ud574 \ud638\ucd9c\ub418\ub294 ",(0,l.jsx)(n.code,{children:"handlers"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"playbook-\uc2e4\ud589",children:"Playbook \uc2e4\ud589"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"ansible-playbook <playbook>\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"-i|--inventory <dir|yaml>"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-l|--limit '<pattern>'"}),": \uc120\ud0dd\ub41c hosts\uc5d0 \ucd94\uac00\uc801\uc778 \uc81c\ud55c\uc744 \uc124\uc815\ud569\ub2c8\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<pattern>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.ansible.com/ansible/latest/inventory_guide/intro_patterns.html",children:"https://docs.ansible.com/ansible/latest/inventory_guide/intro_patterns.html"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"<host>"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"<group>"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<group>[i]"}),", ",(0,l.jsx)(n.code,{children:"<group>[i:j]"}),": Python \uaddc\uce59\uacfc \uac19\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"*"})," glob\ub97c \ud5c8\uc6a9\ud569\ub2c8\ub2e4"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"A:B"}),": B\uc5d0 \uc788\uc744 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"A:&B"}),": B\uc5d0\ub294 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"A:!B"}),": B\uc5d0\ub294 \uc5c6\uc5b4\uc57c \ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ansible_limit"}),"\uc758 \uae30\ubcf8\uac12\uc774 \ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--list-hosts"}),": \uc0ac\uc6a9\uc790\uac00 \uc124\uc815\ud55c \uc635\uc158\uc5d0 \ub530\ub77c \uc2e4\ud589\ub420 play\uc640 \ud574\ub2f9 host\ub97c \ucd9c\ub825\ud569\ub2c8\ub2e4.(\uc2e4\ud589\uc740 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--list-tags"}),": \uc0ac\uc6a9\uc790\uac00 \uc124\uc815\ud55c \uc635\uc158\uc5d0 \ub530\ub77c \uc2e4\ud589\ub420 play\uc640 \ud574\ub2f9 tags\ub97c \ucd9c\ub825\ud569\ub2c8\ub2e4.(\uc2e4\ud589\uc740 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--list-tasks"}),": \uc0ac\uc6a9\uc790\uac00 \uc124\uc815\ud55c \uc635\uc158\uc5d0 \ub530\ub77c \uc2e4\ud589\ub420 play\uc640 \ud574\ub2f9 tasks\ub97c \ucd9c\ub825\ud569\ub2c8\ub2e4.(\uc2e4\ud589\uc740 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ansible -i inventory -m debug -a \"var=hostvars[inventory_hostname]\" '<pattern>'"}),": \ud574\ub2f9 host\ub4e4\uc758 \ubcc0\uc218\ub97c \ucd9c\ub825\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:["\uc5f0\uacb0 \uc635\uc158","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-u|--user <user>"}),": \uc6d0\uaca9 \uc811\uc18d \uc2dc \uc0ac\uc6a9\ub420 \uc0ac\uc6a9\uc790\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"None"}),"\uc774 \uae30\ubcf8\uac12\uc774\uace0, \uc774 \uacbd\uc6b0 \uba85\ub839\uc744 \uc2e4\ud589\uc2dc\ud0a4\ub294 \uc258\uc758 \uc0ac\uc6a9\uc790\uac00 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ansible_user"}),"\uc758 \uae30\ubcf8\uac12\uc774 \ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-k|--ask-pass"}),": \uc6d0\uaca9 \uc811\uc18d \uc2dc \uc0ac\uc6a9\ub420 \ube44\ubc00\ubc88\ud638\ub97c \ubb3c\uc5b4\ubcf4\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ansible_password"}),"\uc758 \uae30\ubcf8\uac12\uc774 \ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\uc791\uc5c5 \uad8c\ud55c \uc635\uc158","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-b|--become"}),": ",(0,l.jsx)(n.code,{children:"<becomeMethod>"}),"\ub85c \uc791\uc5c5\uc744 \uc2e4\ud589\uc2dc\ud0a4\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--become-user <becomeUser>"}),": become \uc0ac\uc6a9\uc790\ub97c \ubcc0\uacbd\ud569\ub2c8\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ansible_become_user"}),"\uc758 \uae30\ubcf8\uac12\uc774 \ub429\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"root"}),"\uac00 \uae30\ubcf8\uac12\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-K|--ask-become-pass"}),": become \uc0ac\uc6a9\uc790\uc758 \ube44\ubc00\ubc88\ud638\ub97c \ubb3c\uc5b4\ubcf4\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ansible_become_password"}),"\uc758 \uae30\ubcf8\uac12\uc774 \ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--become-method <becomeMethod>"}),": \uad8c\ud55c \uc0c1\uc2b9 \ubc29\ubc95\uc744 \uc124\uc815\ud569\ub2c8\ub2e4.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"sudo"}),"\uac00 \uae30\ubcf8\uac12\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ansible-doc -t become -l"})," \uba85\ub839\uc5b4\ub85c \uac00\ub2a5\ud55c \uac12\ub4e4\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var l=s(96540);const i={},r=l.createContext(i);function o(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);