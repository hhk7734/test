"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[72472],{76570:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var s=n(74848),o=n(28453);const r={id:"kubelet",title:"kubelet",sidebar_label:"kubelet",description:"kubelet",keywords:["kubelet"]},l=void 0,i={id:"mlops/mlops/monitoring/prometheus/kubelet",title:"kubelet",description:"kubelet",source:"@site/docs/mlops/mlops/monitoring/prometheus/kubelet.mdx",sourceDirName:"mlops/mlops/monitoring/prometheus",slug:"/mlops/mlops/monitoring/prometheus/kubelet",permalink:"/docs/mlops/mlops/monitoring/prometheus/kubelet",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:173074547e4,frontMatter:{id:"kubelet",title:"kubelet",sidebar_label:"kubelet",description:"kubelet",keywords:["kubelet"]},sidebar:"mlops",previous:{title:"node-exporter",permalink:"/docs/mlops/mlops/monitoring/prometheus/node-exporter"},next:{title:"Thanos",permalink:"/docs/mlops/mlops/monitoring/prometheus/thanos"}},c={},u=[{value:"kubelet",id:"kubelet",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"kube-prometheus-stack",id:"kube-prometheus-stack",level:3},{value:"Metrics",id:"metrics",level:2}];function a(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"kubelet",children:"kubelet"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"kubectl get --raw /api/v1/nodes/<nodeName>/proxy/metrics\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"kubectl get --raw /api/v1/nodes/<nodeName>/proxy/metrics/cadvisor\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"kubectl get --raw /api/v1/nodes/<nodeName>/proxy/metrics/probes\n"})}),"\n",(0,s.jsx)(t.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,s.jsx)(t.h3,{id:"kube-prometheus-stack",children:"kube-prometheus-stack"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",metastring:'title="kube-prometheus-stack-values.yaml"',children:'kubernetesServiceMonitors:\n  enabled: true\n\nkubelet:\n  enabled: true\n\n  serviceMonitor:\n    additionalLabels: {}\n\nprometheusOperator:\n  enabled: true\n\n  kubeletService:\n    enabled: true\n    namespace: kube-system\n    # \'{{ template "kube-prometheus-stack.fullname" . }}-kubelet\' by default\n    name: ""\n'})}),"\n",(0,s.jsx)(t.h2,{id:"metrics",children:"Metrics"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://kubernetes.io/docs/reference/instrumentation/metrics/",children:"https://kubernetes.io/docs/reference/instrumentation/metrics/"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/google/cadvisor/blob/master/docs/storage/prometheus.md",children:"https://github.com/google/cadvisor/blob/master/docs/storage/prometheus.md"})}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"container"})," ",(0,s.jsx)(t.code,{children:"_cpu"})," ",(0,s.jsx)(t.code,{children:"_usage_seconds_total"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["CPU \uc0ac\uc6a9\ub7c9: ",(0,s.jsx)(t.code,{children:"sum by(pod) (rate(container_cpu_usage_seconds_total[1m]))"})]}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>i});var s=n(96540);const o={},r=s.createContext(o);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);