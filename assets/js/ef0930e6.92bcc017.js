"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[86783],{83280:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>c,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"mlops/mlops/storage/ceph/rook-ceph","title":"Rook Ceph","description":"Rook Ceph","source":"@site/docs/mlops/mlops/storage/ceph/rook-ceph.mdx","sourceDirName":"mlops/mlops/storage/ceph","slug":"/mlops/mlops/storage/ceph/rook-ceph","permalink":"/docs/mlops/mlops/storage/ceph/rook-ceph","draft":false,"unlisted":false,"editUrl":"https://github.com/hhk7734/wiki/tree/main/docs/mlops/mlops/storage/ceph/rook-ceph.mdx","tags":[],"version":"current","lastUpdatedAt":1733413551000,"frontMatter":{"id":"rook-ceph","title":"Rook Ceph","sidebar_label":"Rook Ceph","description":"Rook Ceph","keywords":["Rook","Ceph"]},"sidebar":"mlops","previous":{"title":"Ceph Storage Cluster","permalink":"/docs/mlops/mlops/storage/ceph/"},"next":{"title":"Rook Ceph Cluster","permalink":"/docs/mlops/mlops/storage/ceph/cluster"}}');var s=r(74848),n=r(28453),t=r(24763);const c={id:"rook-ceph",title:"Rook Ceph",sidebar_label:"Rook Ceph",description:"Rook Ceph",keywords:["Rook","Ceph"]},a=void 0,i={},h=[{value:"Rook",id:"rook",level:2},{value:"Rook Operator \uc124\uce58",id:"rook-operator-\uc124\uce58",level:2},{value:"\uc5c5\uadf8\ub808\uc774\ub4dc",id:"\uc5c5\uadf8\ub808\uc774\ub4dc",level:2},{value:"\uc0ad\uc81c",id:"\uc0ad\uc81c",level:2}];function p(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h2,{id:"rook",children:"Rook"}),"\n",(0,s.jsxs)("center",{children:[(0,s.jsx)("img",{src:(0,t.Ay)("img/mlops/mlops/storage/ceph/rook-ceph.png")}),(0,s.jsx)("strong",{children:(0,s.jsx)(o.a,{href:"https://rook.io/docs/rook/latest-release/Getting-Started/storage-architecture/#architecture",children:"https://rook.io/docs/rook/latest-release/Getting-Started/storage-architecture/#architecture"})})]}),"\n",(0,s.jsx)(o.h2,{id:"rook-operator-\uc124\uce58",children:"Rook Operator \uc124\uce58"}),"\n",(0,s.jsx)(o.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://rook.io/docs/rook/latest-release/Helm-Charts/operator-chart/",children:"Rook / Ceph Operator Helm Chart"})}),"\n"]})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm repo add rook-release https://charts.rook.io/release\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm repo update rook-release \\\n&& helm search repo rook-release/rook-ceph -l | head -n 10\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm pull rook-release/rook-ceph --version v1.15.6\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm show values rook-release/rook-ceph --version v1.15.6 > rook-ceph-v1.15.6.yaml\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",metastring:'title="rook-ceph-values.yaml"',children:'crds:\n  enabled: true\n\nresources:\n  requests:\n    cpu: 200m\n    memory: 128Mi\n  limits:\n    cpu: "1"\n    memory: 512Mi\n\ntolerations: []\n\ncsi:\n  enableRbdDriver: false\n  enableCephfsDriver: false\n\n  kubeletDirPath: /var/lib/kubelet\n\nenforceHostNetwork: false\n'})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm template rook-ceph rook-ceph-v1.15.6.tgz \\\n    -n rook-ceph \\\n    -f rook-ceph-values.yaml \\\n    > rook-ceph.yaml\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm upgrade rook-ceph rook-ceph-v1.15.6.tgz \\\n    --install \\\n    --history-max 5 \\\n    -n rook-ceph \\\n    -f rook-ceph-values.yaml\n"})}),"\n",(0,s.jsx)(o.h2,{id:"\uc5c5\uadf8\ub808\uc774\ub4dc",children:"\uc5c5\uadf8\ub808\uc774\ub4dc"}),"\n",(0,s.jsx)(o.admonition,{title:"Reference",type:"info",children:(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://rook.io/docs/rook/latest-release/Upgrade/rook-upgrade",children:"Rook / Rook Upgrades"})}),"\n"]})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"rook-ceph(Operator)\uc744 \uc5c5\uadf8\ub808\uc774\ub4dc \ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(o.li,{children:"CR\uc744 \uc5c5\uadf8\ub808\uc774\ub4dc \ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"\uc0ad\uc81c",children:"\uc0ad\uc81c"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm uninstall rook-ceph -n rook-ceph\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"kubectl get crd -oname | grep --color=never 'ceph.rook.io\\|objectbucket.io' | xargs kubectl delete\n"})})]})}function d(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},28453:(e,o,r)=>{r.d(o,{R:()=>t,x:()=>c});var l=r(96540);const s={},n=l.createContext(s);function t(e){const o=l.useContext(n);return l.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(n.Provider,{value:o},e.children)}}}]);