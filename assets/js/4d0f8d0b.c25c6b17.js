"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[45359],{88346:(e,l,i)=>{i.r(l),i.d(l,{assets:()=>r,contentTitle:()=>t,default:()=>d,frontMatter:()=>c,metadata:()=>o,toc:()=>a});var n=i(74848),s=i(28453);const c={id:"cilium",title:"cilium",sidebar_label:"cilium",description:"cilium",keywords:["cilium","cni"]},t=void 0,o={id:"mlops/mlops/network/cilium/cilium",title:"cilium",description:"cilium",source:"@site/docs/mlops/mlops/network/cilium/cilium.mdx",sourceDirName:"mlops/mlops/network/cilium",slug:"/mlops/mlops/network/cilium/",permalink:"/docs/mlops/mlops/network/cilium/",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1723642138e3,frontMatter:{id:"cilium",title:"cilium",sidebar_label:"cilium",description:"cilium",keywords:["cilium","cni"]},sidebar:"mlops",previous:{title:"CNI",permalink:"/docs/mlops/mlops/network/cni"},next:{title:"ARP/NDP",permalink:"/docs/mlops/mlops/network/cilium/arp"}},r={},a=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"cilium-cli",id:"cilium-cli",level:3},{value:"Helm\uc73c\ub85c cilium \uc124\uce58\ud558\uae30",id:"helm\uc73c\ub85c-cilium-\uc124\uce58\ud558\uae30",level:3},{value:"\ud14c\uc2a4\ud2b8",id:"\ud14c\uc2a4\ud2b8",level:2},{value:"\uc0ad\uc81c",id:"\uc0ad\uc81c",level:2}];function m(e){const l={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://docs.cilium.io/en/stable/network/kubernetes/compatibility/",children:"Kubernetes \ud638\ud658\uc131"})}),"\n"]}),"\n",(0,n.jsx)(l.h3,{id:"cilium-cli",children:"cilium-cli"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"/docs/lang/etc/command-line-tools/asdf#%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8",children:"asdf\ub85c \ub7f0\ud0c0\uc784 \ubc84\uc804 \uad00\ub9ac\ud558\uae30"})}),"\n"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"asdf plugin add cilium-cli\n"})}),"\n",(0,n.jsx)(l.h3,{id:"helm\uc73c\ub85c-cilium-\uc124\uce58\ud558\uae30",children:"Helm\uc73c\ub85c cilium \uc124\uce58\ud558\uae30"}),"\n",(0,n.jsxs)(l.ul,{children:["\n",(0,n.jsx)(l.li,{children:(0,n.jsx)(l.a,{href:"https://docs.cilium.io/en/stable/installation/k8s-install-helm/",children:"https://docs.cilium.io/en/stable/installation/k8s-install-helm/"})}),"\n"]}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"helm repo add cilium https://helm.cilium.io/\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"helm repo update cilium \\\n&& helm search repo cilium/cilium -l | head -n 10\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"helm pull cilium/cilium \\\n    --version 1.14.6\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"helm show values cilium/cilium \\\n    --version 1.14.6 \\\n    > cilium-1.14.6.yaml\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-yaml",metastring:'tilte="cilium-values.yaml"',children:'k8sServiceHost: "<apiServerHost>"\nk8sServicePort: "<apiServerPort>"\n\n# mesh\ncluster:\n  name: <name>\n\nipam:\n  # -- Configure IP Address Management mode.\n  # ref: https://docs.cilium.io/en/stable/network/concepts/ipam/\n  mode: "cluster-pool"\n  operator:\n    # -- IPv4 podCIDR list\n    clusterPoolIPv4PodCIDRList: ["10.244.0.0/16"]\n    # -- IPv4 CIDR mask size to delegate to individual nodes for IPAM.\n    clusterPoolIPv4MaskSize: 25\n    # -- IPv6 podCIDR list\n    clusterPoolIPv6PodCIDRList: ["fd00::/104"]\n    # -- IPv6 CIDR mask size to delegate to individual nodes for IPAM.\n    clusterPoolIPv6MaskSize: 120\n\nkubeProxyReplacement: "true"\n\noperator:\n  replicas: 1\n'})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"helm template cilium cilium-1.14.6.tgz \\\n    --version 1.14.6 \\\n    -n kube-system \\\n    -f cilium-values.yaml \\\n    > cilium.yaml\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"helm upgrade cilium cilium-1.14.6.tgz \\\n    --install \\\n    --history-max 5 \\\n    --version 1.14.6 \\\n    -n kube-system \\\n    -f cilium-values.yaml\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"cilium status --wait\n"})}),"\n",(0,n.jsx)(l.h2,{id:"\ud14c\uc2a4\ud2b8",children:"\ud14c\uc2a4\ud2b8"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"cilium connectivity test\n"})}),"\n",(0,n.jsx)(l.h2,{id:"\uc0ad\uc81c",children:"\uc0ad\uc81c"}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"helm uninstall cilium -n kube-system\n"})}),"\n",(0,n.jsx)(l.pre,{children:(0,n.jsx)(l.code,{className:"language-shell",children:"for crd in $(kubectl get crd -o name); do\n    case $crd in\n        *cilium.io)\n            kubectl delete $crd\n            ;;\n    esac\ndone\n"})})]})}function d(e={}){const{wrapper:l}={...(0,s.R)(),...e.components};return l?(0,n.jsx)(l,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},28453:(e,l,i)=>{i.d(l,{R:()=>t,x:()=>o});var n=i(96540);const s={},c=n.createContext(s);function t(e){const l=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function o(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),n.createElement(c.Provider,{value:l},e.children)}}}]);