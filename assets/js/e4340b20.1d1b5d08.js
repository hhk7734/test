(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[29689],{13257:(e,s,r)=>{e.exports={src:{srcSet:r.p+"assets/ideal-img/metrics-server.bc5f725.750.png 750w",images:[{path:r.p+"assets/ideal-img/metrics-server.bc5f725.750.png",width:750,height:502}],src:r.p+"assets/ideal-img/metrics-server.bc5f725.750.png",toString:function(){return r.p+"assets/ideal-img/metrics-server.bc5f725.750.png"},placeholder:void 0,width:750,height:502},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAIAAAC+zks0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvElEQVR4nBXBwYrCMBAA0Pz/B4ngQZBYsHUm6bRJLHEjKYZK05Jl0C7sadn3hG7bSkrSOt7vzxB+mH/f71dK4zguOYsGQB4ObVVhVZ2OR0P0Sum7lHVdmVkgYnO9Gmu/QiAAapoY4yP+m6ZJ1HV9lpKU6gFOu915v7dag5RwuRhrBSplu85ZqxCNMcPt1vW9RrREzjmhtQaAYRicc4jYEXnviQgRvfcip/QIgZm3zyfnvCzLtm2llHmemfkPxpmxuQlg58UAAAAASUVORK5CYII="}},96012:(e,s,r)=>{"use strict";r.r(s),r.d(s,{assets:()=>m,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>o});var i=r(74848),t=r(28453),n=r(13012);const l={id:"metrics-server",title:"metrics-server",sidebar_label:"metrics-server",description:"metrics-server",keywords:["metrics-server"]},c=void 0,a={id:"mlops/mlops/monitoring/metrics-server",title:"metrics-server",description:"metrics-server",source:"@site/docs/mlops/mlops/monitoring/metrics-server.mdx",sourceDirName:"mlops/mlops/monitoring",slug:"/mlops/mlops/monitoring/metrics-server",permalink:"/docs/mlops/mlops/monitoring/metrics-server",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1729871992e3,frontMatter:{id:"metrics-server",title:"metrics-server",sidebar_label:"metrics-server",description:"metrics-server",keywords:["metrics-server"]},sidebar:"mlops",previous:{title:"oauth2-proxy",permalink:"/docs/mlops/mlops/auth/oauth2-proxy"},next:{title:"Fluent Bit",permalink:"/docs/mlops/mlops/monitoring/collector/fluent-bit"}},m={},o=[{value:"metrics server",id:"metrics-server",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"\uc0ad\uc81c",id:"\uc0ad\uc81c",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"metrics-server",children:"metrics server"}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)(n.A,{img:r(13257),width:750})}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)(s.a,{href:"https://ssup2.github.io/theory_analysis/Kubernetes_Metric_Server/",children:"https://ssup2.github.io/theory_analysis/Kubernetes_Metric_Server/"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(s.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://kubernetes-sigs.github.io/metrics-server/",children:"https://kubernetes-sigs.github.io/metrics-server/"})}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"helm repo add metrics-server https://kubernetes-sigs.github.io/metrics-server/\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"helm repo update metrics-server \\\n&& helm search repo metrics-server/metrics-server -l | head -n 10\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"helm pull metrics-server/metrics-server --version 3.12.0\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"helm show values metrics-server-3.12.0.tgz \\\n    > metrics-server-3.12.0.yaml\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",metastring:'title="metrics-server-values.yaml"',children:"commonLabels: {}\n\nargs:\n  []\n  # - --kubelet-insecure-tls\n  # - --v=2\n\nresources:\n  requests:\n    cpu: 100m\n    memory: 200Mi\n\ntolerations:\n  - operator: Exists\n"})}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsxs)(s.p,{children:["\ub85c\uadf8\uc5d0 ",(0,i.jsx)(s.code,{children:'"Failed to scrape node" err="Get \\"https://xxx:10250/stats/summary?only_cpu_and_memory=true\\": x509: cannot validate certificate for xxx because it doesn\'t contain any IP SANs" node="xxx"'}),"\uc640 \uac19\uc740 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\ub294 \uacbd\uc6b0 ",(0,i.jsx)(s.code,{children:"--kubelet-insecure-tls"}),"\ub97c \ucd94\uac00\ud574\uc8fc\uc138\uc694."]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"helm template metrics-server metrics-server-3.12.0.tgz \\\n    -n kube-system \\\n    -f metrics-server-values.yaml \\\n    > metrics-server.yaml\n"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"helm upgrade metrics-server metrics-server-3.12.0.tgz \\\n    --install \\\n    --history-max 5 \\\n    -n kube-system \\\n    -f metrics-server-values.yaml\n"})}),"\n",(0,i.jsx)(s.h2,{id:"\uc0ad\uc81c",children:"\uc0ad\uc81c"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"helm uninstall metrics-server -n kube-system\n"})}),"\n",(0,i.jsx)(s.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"kubectl describe apiservices v1beta1.metrics.k8s.io\n"})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);