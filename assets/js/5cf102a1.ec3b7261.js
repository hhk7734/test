"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[50864],{20186:(i,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var n=t(74848),e=t(28453);const s={id:"authorization",title:"Istio Authorization",sidebar_label:"Authorization",description:"Istio Authorization",keywords:["Istio","Authorization"]},r=void 0,a={id:"mlops/mlops/network/istio/security/authorization/authorization",title:"Istio Authorization",description:"Istio Authorization",source:"@site/docs/mlops/mlops/network/istio/security/authorization/authorization.mdx",sourceDirName:"mlops/mlops/network/istio/security/authorization",slug:"/mlops/mlops/network/istio/security/authorization/",permalink:"/docs/mlops/mlops/network/istio/security/authorization/",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:173074547e4,frontMatter:{id:"authorization",title:"Istio Authorization",sidebar_label:"Authorization",description:"Istio Authorization",keywords:["Istio","Authorization"]},sidebar:"mlops",previous:{title:"Compression",permalink:"/docs/mlops/mlops/network/istio/traffic-management/envoy-filter/compression"},next:{title:"Kiali",permalink:"/docs/mlops/mlops/network/istio/kiali"}},l={},c=[{value:"Istio Authorization",id:"istio-authorization",level:2},{value:"AuthorizationPolicy",id:"authorizationpolicy",level:2},{value:"allow-nothing",id:"allow-nothing",level:3}];function u(i){const o={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,e.R)(),...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.h2,{id:"istio-authorization",children:"Istio Authorization"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"https://istio.io/latest/docs/concepts/security/#authorization",children:"https://istio.io/latest/docs/concepts/security/#authorization"})}),"\n"]}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"\uc778\uac00 \uc815\ucc45(AuthorizationPolicy)\uc740 \uae30\ubcf8\uc801\uc73c\ub85c Envoy\uc5d0\uc11c \ucc98\ub9ac\ud569\ub2c8\ub2e4."}),"\n",(0,n.jsx)(o.li,{children:"\uc815\ucc45 \ubcc0\uacbd\uc740 Envoy\ub97c \uc7ac\uc2dc\uc791\ud558\uc9c0 \uc54a\uace0\ub3c4 \uc801\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(o.li,{children:"\uc815\ucc45\uc774 \uc801\uc6a9\ub418\uc9c0 \uc54a\uc740 \uc6cc\ud06c\ub85c\ub4dc\ub294 \ubaa8\ub4e0 \ud2b8\ub798\ud53d\uc744 \ud5c8\uc6a9\ud569\ub2c8\ub2e4."}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.code,{children:"CUSTOM"}),", ",(0,n.jsx)(o.code,{children:"DENY"}),", ",(0,n.jsx)(o.code,{children:"ALLOW"})," \uc21c\uc73c\ub85c \ud3c9\uac00\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,n.jsx)(o.h2,{id:"authorizationpolicy",children:"AuthorizationPolicy"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:(0,n.jsx)(o.a,{href:"https://istio.io/latest/docs/reference/config/security/authorization-policy/",children:"https://istio.io/latest/docs/reference/config/security/authorization-policy/"})}),"\n"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-yaml",children:'apiVersion: security.istio.io/v1\nkind: AuthorizationPolicy\nmetadata:\n  name: <name>\n  # \uc815\ucc45 \uc801\uc6a9 \ubc94\uc704\ub294 <namespace> \ub0b4\ub85c \uc81c\ud55c\ub429\ub2c8\ub2e4.\n  # <namespace>\uac00 \ub8e8\ud2b8 \ub124\uc784\uc2a4\ud398\uc774\uc2a4(istio-system)\uc778 \uacbd\uc6b0, \ud074\ub7ec\uc2a4\ud130 \uc804\uccb4\uc5d0 \uc801\uc6a9\ub429\ub2c8\ub2e4.\n  namespace: <namespace>\nspec:\n  # selector\ub97c \uc120\uc5b8\ud558\uba74 \ud574\ub2f9 \uc6cc\ud06c\ub85c\ub4dc\uc5d0\ub9cc \uc815\ucc45\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4.\n  selector:\n    matchLabels:\n      <key>: <value>\n  action: ALLOW # CUSTOM, DENY, ALLOW, AUDIT\n  # rules\uc5d0\uc11c \ub9e4\uce6d \uac12\uc740 "exact", "prefix.*", "*.suffix", "*"(not-empty)\ub85c \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n  # when.key, source.ipBlocks, to.ports\ub294 "exact"\ub9cc \uc9c0\uc6d0\ud569\ub2c8\ub2e4.\n  # rules\uc744 \uc120\uc5b8\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0, \ubaa8\ub4e0 \ud2b8\ub798\ud53d\uc774 \ub9e4\uce6d\ub418\uc9c0 \uc54a\ub294 \uac83\uc73c\ub85c \uac04\uc8fc\ub429\ub2c8\ub2e4.\n  rules:\n    # - {} \uc73c\ub85c \uc120\uc5b8\ud55c \uacbd\uc6b0 \ubaa8\ub4e0 \ud2b8\ub798\ud53d\uc774 \ub9e4\uce6d\ub429\ub2c8\ub2e4.\n    - from:\n        # https://istio.io/latest/docs/reference/config/security/authorization-policy/#Source\n        - source: {}\n      when:\n        # https://istio.io/latest/docs/reference/config/security/conditions/#supported-conditions\n        - key: <key>\n          values:\n            - <value>\n          # notValues:\n          #   - <value>\n      to:\n        # https://istio.io/latest/docs/reference/config/security/authorization-policy/#Operation\n        - operation: {}\n  # CUSTOM action\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0\ub9cc \uc0ac\uc6a9\ub429\ub2c8\ub2e4.\n  # provider: {}\n'})}),"\n",(0,n.jsx)(o.h3,{id:"allow-nothing",children:"allow-nothing"}),"\n",(0,n.jsx)(o.p,{children:"\ubaa8\ub4e0 \ud2b8\ub798\ud53d\uc744 \ucc28\ub2e8\ud558\ub294 \uc815\ucc45\uc740 \uc544\ub798 2\uac00\uc9c0 \ubc29\ubc95\uc774 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-yaml",children:"spec:\n  # allow nothing\n  action: ALLOW\n"})}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-yaml",children:"spec:\n  # deny all\n  action: DENY\n  rules:\n    - {}\n"})}),"\n",(0,n.jsxs)(o.p,{children:["\uae30\ubcf8\uc801\uc73c\ub85c ",(0,n.jsx)(o.code,{children:"allow-nothing"})," \uc815\ucc45\uc5d0\uc11c \ud544\uc694\ud55c \ud2b8\ub798\ud53d\ub9cc \ucd94\uac00\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uc815\ucc45\uc744 \ud655\ub300\ud574 \ub098\uac00\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."]})]})}function h(i={}){const{wrapper:o}={...(0,e.R)(),...i.components};return o?(0,n.jsx)(o,{...i,children:(0,n.jsx)(u,{...i})}):u(i)}},28453:(i,o,t)=>{t.d(o,{R:()=>r,x:()=>a});var n=t(96540);const e={},s=n.createContext(e);function r(i){const o=n.useContext(s);return n.useMemo((function(){return"function"==typeof i?i(o):{...o,...i}}),[o,i])}function a(i){let o;return o=i.disableParentContext?"function"==typeof i.components?i.components(e):i.components||e:r(i.components),n.createElement(s.Provider,{value:o},i.children)}}}]);