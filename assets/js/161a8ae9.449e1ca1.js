"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[50559],{8227:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>j,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var d=e(74848),s=e(28453);const r={id:"type",title:"Protobuf Type",sidebar_label:"Type",description:"Protocol Buffers type",keywords:["protobuf","type"]},i=void 0,l={id:"lang/design/protocol/protobuf/type",title:"Protobuf Type",description:"Protocol Buffers type",source:"@site/docs/lang/design/protocol/protobuf/type.mdx",sourceDirName:"lang/design/protocol/protobuf",slug:"/lang/design/protocol/protobuf/type",permalink:"/docs/lang/design/protocol/protobuf/type",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:172426335e4,frontMatter:{id:"type",title:"Protobuf Type",sidebar_label:"Type",description:"Protocol Buffers type",keywords:["protobuf","type"]},sidebar:"design",previous:{title:"Protobuf",permalink:"/docs/lang/design/protocol/protobuf/"},next:{title:"\ud638\ud658\uc131",permalink:"/docs/lang/design/protocol/protobuf/compatibility"}},o={},c=[{value:"Languages",id:"languages",level:2},{value:"proto type mapping",id:"proto-type-mapping",level:2},{value:"<code>oneof</code>",id:"oneof",level:2}];function h(t){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...t.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"languages",children:"Languages"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/docs/lang/go/libraries/grpc/type",children:"Golang"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"/docs/lang/python/libraries/grpc/type",children:"Python"})}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"proto-type-mapping",children:"proto type mapping"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://protobuf.dev/programming-guides/proto3/#scalar",children:"https://protobuf.dev/programming-guides/proto3/#scalar"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://protobuf.dev/programming-guides/proto3/#json",children:"https://protobuf.dev/programming-guides/proto3/#json"})}),"\n"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"proto"}),(0,d.jsx)(n.th,{children:"note"}),(0,d.jsx)(n.th,{children:"go"}),(0,d.jsx)(n.th,{children:"python3"}),(0,d.jsx)(n.th,{children:"json"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"double"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"float64"}),(0,d.jsx)(n.td,{children:"float"}),(0,d.jsx)(n.td,{children:"number"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"float"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"float32"}),(0,d.jsx)(n.td,{children:"float"}),(0,d.jsx)(n.td,{children:"number"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"int32"}),(0,d.jsx)(n.td,{children:"\uc74c\uc218\uac00 \uc788\ub294 \uacbd\uc6b0 sint32\ub97c \uc0ac\uc6a9"}),(0,d.jsx)(n.td,{children:"int32"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"number"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:"\uc74c\uc218\uac00 \uc788\ub294 \uacbd\uc6b0 sint64\ub97c \uc0ac\uc6a9"}),(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:"int/long"}),(0,d.jsx)(n.td,{children:"string"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"uint32"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"uint32"}),(0,d.jsx)(n.td,{children:"int/long"}),(0,d.jsx)(n.td,{children:"number"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"uint64"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"uint64"}),(0,d.jsx)(n.td,{children:"int/long"}),(0,d.jsx)(n.td,{children:"string"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"sint32"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"int32"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"number"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"sint64"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:"int/long"}),(0,d.jsx)(n.td,{children:"string"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"fixed32"}),(0,d.jsx)(n.td,{children:"4 bytes\ub85c \ud45c\ud604, 2^28 \uc774\uc0c1\uc758 \uc218\ub97c \ub9ce\uc774 \uc0ac\uc6a9\ud560 \uacbd\uc6b0 \ud6a8\uc728\uc801"}),(0,d.jsx)(n.td,{children:"uint32"}),(0,d.jsx)(n.td,{children:"int/long"}),(0,d.jsx)(n.td,{children:"number"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"fixed64"}),(0,d.jsx)(n.td,{children:"8 bytes\ub85c \ud45c\ud604, 2^56 \uc774\uc0c1\uc758 \uc218\ub97c \ub9ce\uc774 \uc0ac\uc6a9\ud560 \uacbd\uc6b0 \ud6a8\uc728\uc801"}),(0,d.jsx)(n.td,{children:"uint64"}),(0,d.jsx)(n.td,{children:"int/long"}),(0,d.jsx)(n.td,{children:"string"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"sfixed32"}),(0,d.jsx)(n.td,{children:"4 bytes\ub85c \ud45c\ud604"}),(0,d.jsx)(n.td,{children:"int32"}),(0,d.jsx)(n.td,{children:"int"}),(0,d.jsx)(n.td,{children:"number"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"sfixed64"}),(0,d.jsx)(n.td,{children:"8 bytes\ub85c \ud45c\ud604"}),(0,d.jsx)(n.td,{children:"int64"}),(0,d.jsx)(n.td,{children:"int/long"}),(0,d.jsx)(n.td,{children:"string"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"bool"}),(0,d.jsx)(n.td,{children:"boolean"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"UTF-8 or ASCII, \uae38\uc774\ub294 2^32\ub85c \uc81c\ud55c\ub428"}),(0,d.jsx)(n.td,{children:"string"}),(0,d.jsx)(n.td,{children:"unicode/str"}),(0,d.jsx)(n.td,{children:"string"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"bytes"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"[]byte"}),(0,d.jsx)(n.td,{children:"bytes"}),(0,d.jsx)(n.td,{children:"base64String"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"message"}),(0,d.jsx)(n.td,{children:"json\uc73c\ub85c \ubcc0\ud658\ud560 \ub54c, key\ub85c camelCase \uc0ac\uc6a9"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"object"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"enum"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"string"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"map<K,V>"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"map[K]V"}),(0,d.jsx)(n.td,{children:"dict[K,V]"}),(0,d.jsx)(n.td,{children:"object"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"repeated V"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"[]V"}),(0,d.jsx)(n.td,{children:"list[V]"}),(0,d.jsx)(n.td,{children:"array"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Timestamp"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:'"1972-01-01T10:00:20.021Z"'})]})]})]}),"\n",(0,d.jsx)(n.admonition,{type:"info",children:(0,d.jsx)(n.p,{children:"protobuf -> json\uc73c\ub85c \ubcc0\ud658\ub420 \ub54c\ub294 \uc704 \ud45c\ub97c \ub530\ub974\uc9c0\ub9cc, json -> protobuf\ub85c \ubcc0\ud658\ub420 \ub54c\ub294 \ud5c8\uc6a9\ub418\ub294 \ud0c0\uc785\uc774 \ub354 \ub113\uc5b4\uc9d1\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 message\uc5d0\uc11c \ud544\ub4dc \uba85\uc740 camelCase\ub85c \ubcc0\ud658\ub418\uc9c0\ub9cc, json\uc5d0\uc11c \ud544\ub4dc\uba85\uc740 snake_case\ub97c \uc0ac\uc6a9\ud574\ub3c4 \ub429\ub2c8\ub2e4."})}),"\n",(0,d.jsx)(n.h2,{id:"oneof",children:(0,d.jsx)(n.code,{children:"oneof"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-protobuf",children:"message Test {\n  oneof data {\n    bytes binary_data = 1;\n    string string_data = 2;\n  }\n}\n"})}),"\n",(0,d.jsx)(n.p,{children:"JSON\uc73c\ub85c \ubcc0\ud658\ud558\ub294 \uacbd\uc6b0 \uc544\ub798\uc640 \uac19\uc774 \ubcc0\ud658\ub429\ub2c8\ub2e4."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "binaryData": "base64String"\n}\n\n// or\n\n{\n  "stringData": "string"\n}\n'})})]})}function j(t={}){const{wrapper:n}={...(0,s.R)(),...t.components};return n?(0,d.jsx)(n,{...t,children:(0,d.jsx)(h,{...t})}):h(t)}},28453:(t,n,e)=>{e.d(n,{R:()=>i,x:()=>l});var d=e(96540);const s={},r=d.createContext(s);function i(t){const n=d.useContext(r);return d.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function l(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:i(t.components),d.createElement(r.Provider,{value:n},t.children)}}}]);