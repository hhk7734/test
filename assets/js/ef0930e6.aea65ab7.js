"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[86783],{73569:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>i,contentTitle:()=>c,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>h});var s=r(74848),l=r(28453),n=r(98180);const t={id:"rook-ceph",title:"Rook Ceph",sidebar_label:"Rook Ceph",description:"Rook Ceph",keywords:["Rook","Ceph"]},c=void 0,a={id:"mlops/mlops/storage/ceph/rook-ceph",title:"Rook Ceph",description:"Rook Ceph",source:"@site/docs/mlops/mlops/storage/ceph/rook-ceph.mdx",sourceDirName:"mlops/mlops/storage/ceph",slug:"/mlops/mlops/storage/ceph/rook-ceph",permalink:"/docs/mlops/mlops/storage/ceph/rook-ceph",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1723169255e3,frontMatter:{id:"rook-ceph",title:"Rook Ceph",sidebar_label:"Rook Ceph",description:"Rook Ceph",keywords:["Rook","Ceph"]},sidebar:"mlops",previous:{title:"Ceph Storage Cluster",permalink:"/docs/mlops/mlops/storage/ceph/"},next:{title:"Cluster",permalink:"/docs/mlops/mlops/storage/ceph/cluster"}},i={},h=[{value:"Rook",id:"rook",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"\uc5c5\uadf8\ub808\uc774\ub4dc",id:"\uc5c5\uadf8\ub808\uc774\ub4dc",level:2},{value:"\uc0ad\uc81c",id:"\uc0ad\uc81c",level:2}];function p(e){const o={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h2,{id:"rook",children:"Rook"}),"\n",(0,s.jsxs)("center",{children:[(0,s.jsx)("img",{src:(0,n.Ay)("img/mlops/mlops/storage/ceph/rook-ceph.png")}),(0,s.jsx)("strong",{children:(0,s.jsx)(o.p,{children:(0,s.jsx)(o.a,{href:"https://rook.io/docs/rook/latest-release/Getting-Started/storage-architecture/#architecture",children:"https://rook.io/docs/rook/latest-release/Getting-Started/storage-architecture/#architecture"})})})]}),"\n",(0,s.jsx)(o.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://rook.io/docs/rook/latest-release/Helm-Charts/operator-chart/",children:"https://rook.io/docs/rook/latest-release/Helm-Charts/operator-chart/"})}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm repo add rook-release https://charts.rook.io/release\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm repo update rook-release \\\n&& helm search repo rook-release/rook-ceph -l | head -n 10\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm pull rook-release/rook-ceph --version v1.13.7\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm show values rook-release/rook-ceph --version v1.13.7 > rook-ceph-v1.13.7.yaml\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",metastring:'title="rook-ceph-values.yaml"',children:'crds:\n  enabled: true\n\nresources:\n  requests:\n    cpu: 200m\n    memory: 128Mi\n  limits:\n    cpu: "1"\n    memory: 512Mi\n\ntolerations: []\n\ncsi:\n  enableRbdDriver: false\n  enableCephfsDriver: true\n\n  # csi-detect-version-\n  provisionerTolerations: []\n\n  kubeletDirPath: /var/lib/kubelet\n'})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm template rook-ceph rook-ceph-v1.13.7.tgz \\\n    -n rook-ceph \\\n    -f rook-ceph-values.yaml \\\n    > rook-ceph.yaml\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm upgrade rook-ceph rook-ceph-v1.13.7.tgz \\\n    --install \\\n    --history-max 5 \\\n    -n rook-ceph \\\n    -f rook-ceph-values.yaml\n"})}),"\n",(0,s.jsx)(o.h2,{id:"\uc5c5\uadf8\ub808\uc774\ub4dc",children:"\uc5c5\uadf8\ub808\uc774\ub4dc"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://rook.io/docs/rook/latest-release/Upgrade/rook-upgrade",children:"https://rook.io/docs/rook/latest-release/Upgrade/rook-upgrade"})}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"rook-ceph\uc744 \uc5c5\uadf8\ub808\uc774\ub4dc \ud569\ub2c8\ub2e4."}),"\n",(0,s.jsx)(o.li,{children:"rook-ceph-cluster\ub97c \uc5c5\uadf8\ub808\uc774\ub4dc \ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"\uc0ad\uc81c",children:"\uc0ad\uc81c"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"helm uninstall rook-ceph -n rook-ceph\n"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-shell",children:"for crd in $(kubectl get crd -o name); do\n    case $crd in\n        *ceph.rook.io)\n            kubectl delete $crd\n            ;;\n        *objectbucket.io)\n            kubectl delete $crd\n            ;;\n    esac\ndone\n"})})]})}function d(e={}){const{wrapper:o}={...(0,l.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},28453:(e,o,r)=>{r.d(o,{R:()=>t,x:()=>c});var s=r(96540);const l={},n=s.createContext(l);function t(e){const o=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(n.Provider,{value:o},e.children)}}}]);