"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[63181],{92664:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});var s=a(74848),r=a(28453);const l={id:"dashboard",title:"Grafana Dashboard",sidebar_label:"Dashboard",description:"Grafana Dashboard",keywords:["Grafana","Dashboard"]},d=void 0,t={id:"mlops/mlops/monitoring/grafana/dashboard",title:"Grafana Dashboard",description:"Grafana Dashboard",source:"@site/docs/mlops/mlops/monitoring/grafana/dashboard.mdx",sourceDirName:"mlops/mlops/monitoring/grafana",slug:"/mlops/mlops/monitoring/grafana/dashboard",permalink:"/docs/mlops/mlops/monitoring/grafana/dashboard",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1722869178e3,frontMatter:{id:"dashboard",title:"Grafana Dashboard",sidebar_label:"Dashboard",description:"Grafana Dashboard",keywords:["Grafana","Dashboard"]},sidebar:"mlops",previous:{title:"Data Source",permalink:"/docs/mlops/mlops/monitoring/grafana/datasource"},next:{title:"Alert",permalink:"/docs/mlops/mlops/monitoring/grafana/alert"}},i={},o=[{value:"Dashboard",id:"dashboard",level:2},{value:"Variables",id:"variables",level:2},{value:"Query",id:"query",level:3}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"dashboard",children:"Dashboard"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="grafana-values.yaml"',children:'dashboardProviders:\n  dashboardproviders.yaml:\n    apiVersion: 1\n    providers:\n      - name: <provider>\n        folder: ""\n        type: file\n        allowUiUpdates: false\n        options:\n          path: /var/lib/grafana/dashboards/<provider>\n\ndashboards:\n  <provider>:\n    <dashboard>: {}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dashboardProviders"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dashboardproviders.yaml"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"providers: []"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"allowUiUpdates: false"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dashboards"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<provider>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<dashboard>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"url: <url>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gnetId: <gnetId>"}),": ",(0,s.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/",children:"https://grafana.com/grafana/dashboards/"})," \uc5d0 \ub4f1\ub85d\ub41c ID\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"revision: 1"}),": ",(0,s.jsx)(n.a,{href:"https://grafana.com/grafana/dashboards/",children:"https://grafana.com/grafana/dashboards/"})," \uc5d0 \ub4f1\ub85d\ub41c \ubc84\uc804\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"datasource: <string|[]>"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["array\uc77c \uacbd\uc6b0","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"name: <name>"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"value: <value>"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"s/${<name>}/<value>/g"}),"\ub85c JSON \ub0b4 \ubcc0\uc218\ub97c \uce58\ud658\ud569\ub2c8\ub2e4"]}),"\n",(0,s.jsxs)(n.li,{children:["Ee) ",(0,s.jsx)(n.code,{children:"datasource: [{name: DS_PROMETHEUS, value: <prometheusUID>}]"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://grafana.com/docs/grafana/latest/dashboards/variables/add-template-variables/",children:"https://grafana.com/docs/grafana/latest/dashboards/variables/add-template-variables/"})}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Dashbaord -> Settings -> Variables"}),"\n",(0,s.jsxs)(n.li,{children:["\uc0ac\uc6a9\ud560 \ub54c\ub294 ",(0,s.jsx)(n.code,{children:"$<name>"}),", ",(0,s.jsx)(n.code,{children:"${<name>}"}),", ",(0,s.jsx)(n.code,{children:"${<name>:<format>}"})," \ud615\ud0dc\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"query",children:"Query"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n\t"templating": {\n\t\t"list": [\n\t\t\t{\n\t\t\t\t"type": "query",\n\t\t\t\t"name": "<name>",\n\t\t\t\t"label": "<label>",\n\t\t\t\t"description": "<description>",\n\t\t\t\t"datasource": {\n\t\t\t\t\t"type": "prometheus",\n\t\t\t\t\t"uid": "<uid>"\n\t\t\t\t},\n\t\t\t\t"query": {\n\t\t\t\t\t"query": "<query>",\n\t\t\t\t\t"refId": "<refId>"\n\t\t\t\t},\n\t\t\t\t"regex": "<regex>",\n\t\t\t\t"refresh": 1, // 1: on dashboard load, 2: on time range change\n\t\t\t\t"allValue": "<allValue>"\n\t\t\t}\n\t\t]\n\t}\n}\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"label: \ub300\uc2dc\ubcf4\ub4dc\uc5d0 \ud45c\uc2dc\ub420 \uc774\ub984, \uc120\uc5b8\ud558\uc9c0 \uc54a\uc73c\uba74 name\uc774 \ud45c\uc2dc\ub429\ub2c8\ub2e4"}),"\n",(0,s.jsxs)(n.li,{children:["query","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["query","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["datasource\uac00 prometheus\uc778 \uacbd\uc6b0","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://grafana.com/docs/grafana/latest/datasources/prometheus/template-variables/",children:"https://grafana.com/docs/grafana/latest/datasources/prometheus/template-variables/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://prometheus.io/docs/prometheus/latest/querying/api/",children:"https://prometheus.io/docs/prometheus/latest/querying/api/"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"label_names()"}),": ",(0,s.jsx)(n.code,{children:"/api/v1/labels"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"label_values(<label>)"}),": ",(0,s.jsx)(n.code,{children:"/api/v1/label/<label>/values"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"label_values(<metric>, <label>)"}),": ",(0,s.jsx)(n.code,{children:"/api/v1/series"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metrics(<metric>)"}),": ",(0,s.jsx)(n.code,{children:"/api/v1/label/__name__/values?match[]=<metric>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"query_result(<query>)"}),": ",(0,s.jsx)(n.code,{children:"/api/v1/query?query=<query>"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["allValue: ",(0,s.jsx)(n.code,{children:"ALL"}),"\uc744 \uc120\ud0dd\ud588\uc744 \ub54c \uc0ac\uc6a9\ub420 \uac12"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>d,x:()=>t});var s=a(96540);const r={},l=s.createContext(r);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);