"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[24229],{84396:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>r});var l=a(74848),c=a(28453);const d={id:"conda",title:"conda",sidebar_label:"conda",description:"conda",keywords:["conda"]},i=void 0,s={id:"lang/python/package/conda",title:"conda",description:"conda",source:"@site/docs/lang/python/package/conda.mdx",sourceDirName:"lang/python/package",slug:"/lang/python/package/conda",permalink:"/docs/lang/python/package/conda",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1724080868e3,frontMatter:{id:"conda",title:"conda",sidebar_label:"conda",description:"conda",keywords:["conda"]},sidebar:"python",previous:{title:"Poetry",permalink:"/docs/lang/python/package/poetry"},next:{title:"Sphinx",permalink:"/docs/lang/python/package/python-package-sphinx"}},t={},r=[{value:"\uc124\uce58",id:"\uc124\uce58",level:2},{value:"Package directory structure",id:"package-directory-structure",level:2},{value:"meta.yaml",id:"metayaml",level:2},{value:"build.sh",id:"buildsh",level:2},{value:"Build",id:"build",level:2},{value:"Upload",id:"upload",level:2},{value:"Reference",id:"reference",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\uc124\uce58",children:"\uc124\uce58"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"conda activate root\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"conda upgrade conda\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"conda config --add channels conda-forge \\\n&& conda config --set channel_priority strict\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"conda-forge"})," \ud328\ud0a4\uc9c0 \uc124\uce58\uc2dc conda-forge\uc5d0\uc11c \uc124\uce58\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uae30 \ub54c\ubb38\uc5d0 conda-forge\uc758 \uc6b0\uc120\uc21c\uc704\ub97c default\ubcf4\ub2e4 \ub192\uc5ec \uc8fc\ub294 \uac83\uc774 \uc758\uc874 \uc131 \ucda9\ub3cc\uc744 \ub9c9\uae30 \uc27d\uc2b5\ub2c8\ub2e4."]})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"conda install conda-build\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"conda upgrade conda-build\n"})}),"\n",(0,l.jsx)(n.h2,{id:"package-directory-structure",children:"Package directory structure"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"<package>\n\u251c\u2500\u2500 recipe\n\u2502   \u251c\u2500\u2500 build.sh\n\u2502   \u2514\u2500\u2500 meta.yaml\n"})}),"\n",(0,l.jsx)(n.h2,{id:"metayaml",children:"meta.yaml"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="recipe/meta.yaml"',children:"package:\n  name: <package_name>\n  version: <version>\n\nsource:\n  path: ../\n  # git clone\uc73c\ub85c \uc2dc\uc791\ud560 \uc218 \uc788\uc74c\n  # git_url: <git_url>\n  # git_rev: <git_rev>\n  # git_depth: 1 # (Defaults to -1/not shallow)\n  #\n  # tarball, hg, svn \ub4f1 \uc9c0\uc6d0\n\nbuild:\n  number: <int> # Defaults to 0, \ubc84\uc804\uc774 \uac19\ub354\ub77c\ub3c4 \ube4c\ub4dc \ubc88\ud638\uac00 \ub2e4\ub974\uba74 \uc5c5\ub85c\ub4dc \uac00\ub2a5\n  script_env:\n    - <white_list> # \ub85c\uceec\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \ud658\uacbd \ubcc0\uc218 \uc911 script\uc5d0\uc11c \uc4f8 \ud658\uacbd \ubcc0\uc218 \uc120\uc5b8\n    - <key>=<value> # \ucd94\uac00 \ud658\uacbd \ubcc0\uc218 \uc124\uc815\n\nrequirements:\n  # build\uc5d0 \ud544\uc694\ud55c dependencies\n  build:\n    - <build_tool>\n    # - {{ compiler('c') }}\n  host:\n    - <link-dependency>\n  run:\n    - <runtime-dependency>\n\ntest:\n  files:\n    - <test_file>\n  source_files:\n    - <test_file>\n  reqires:\n    # requirements.run\uc740 \uc790\ub3d9\uc73c\ub85c \ucd94\uac00\n    - <package>\n  command:\n    - <test_command>\n\nabout:\n  home: <homepage>\n  license: <license>\n  license_file: <license_file>\n  summary: <summary>\n"})}),"\n",(0,l.jsx)(n.h2,{id:"buildsh",children:"build.sh"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",metastring:'title="recipe/build.sh"',children:"#!/bin/sh\n"})}),"\n",(0,l.jsx)(n.h2,{id:"build",children:"Build"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"conda build <path>/<package>/recipe\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-c <channel>"}),": dependency\ub97c \uc124\uce58\ud560 \ucc44\ub110 \uc124\uc815"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"upload",children:"Upload"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"conda install anaconda-client\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"anaconda login\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"anaconda upload <path>/miniconda3/conda-bld/<platform>/<package_name>-<version>-<build>.tar.bz2\n"})}),"\n",(0,l.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.conda.io/projects/conda-build/en/latest/resources/define-metadata.html",children:"https://docs.conda.io/projects/conda-build/en/latest/resources/define-metadata.html"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>s});var l=a(96540);const c={},d=l.createContext(c);function i(e){const n=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);