"use strict";(self.webpackChunkwiki_loliot_net=self.webpackChunkwiki_loliot_net||[]).push([[61314],{21438:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>d,toc:()=>t});var l=s(74848),c=s(28453);const i={id:"pg",title:"Ceph Placement Group(PG) \uad00\ub9ac",sidebar_label:"PG \uad00\ub9ac",description:"Ceph Placement Group(PG) \uad00\ub9ac",keywords:["ceph","pg"]},o=void 0,d={id:"mlops/mlops/storage/ceph/pg",title:"Ceph Placement Group(PG) \uad00\ub9ac",description:"Ceph Placement Group(PG) \uad00\ub9ac",source:"@site/docs/mlops/mlops/storage/ceph/pg.mdx",sourceDirName:"mlops/mlops/storage/ceph",slug:"/mlops/mlops/storage/ceph/pg",permalink:"/docs/mlops/mlops/storage/ceph/pg",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1724774597e3,frontMatter:{id:"pg",title:"Ceph Placement Group(PG) \uad00\ub9ac",sidebar_label:"PG \uad00\ub9ac",description:"Ceph Placement Group(PG) \uad00\ub9ac",keywords:["ceph","pg"]},sidebar:"mlops",previous:{title:"OSD \uad00\ub9ac",permalink:"/docs/mlops/mlops/storage/ceph/osd"},next:{title:"CephFS",permalink:"/docs/mlops/mlops/storage/ceph/cephfs"}},r={},t=[{value:"Placement Group(PG)",id:"placement-grouppg",level:2},{value:"PG AutoScale",id:"pg-autoscale",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"placement-grouppg",children:"Placement Group(PG)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/docs/mlops/mlops/storage/ceph/osd#data-%ED%9D%90%EB%A6%84",children:"Data \ud750\ub984"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"pg-autoscale",children:"PG AutoScale"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.ceph.com/en/latest/rados/operations/placement-groups/#viewing-pg-scaling-recommendations",children:"https://docs.ceph.com/en/latest/rados/operations/placement-groups/#viewing-pg-scaling-recommendations"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"kubectl rook-ceph ceph osd pool set <pool> <option> <value>\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"<option>"}),": ",(0,l.jsx)(n.code,{children:"<value>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"pg_autoscale_mode"}),": ",(0,l.jsx)(n.code,{children:"on"}),"|",(0,l.jsx)(n.code,{children:"warn"}),"|",(0,l.jsx)(n.code,{children:"off"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"target_size_bytes"}),": ",(0,l.jsx)(n.code,{children:"<targetSize>"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"target_size_ratio"}),": ",(0,l.jsx)(n.code,{children:"<targetRatio>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"target_size_bytes"}),"\ubcf4\ub2e4 \uc6b0\uc120 \uc21c\uc704\uac00 \ub192\uc73c\ubbc0\ub85c, \ub458 \ub2e4 \uc120\uc5b8\ud558\uba74 ",(0,l.jsx)(n.code,{children:"target_size_bytes"}),"\ub294 \ubb34\uc2dc\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"bulk"}),": ",(0,l.jsx)(n.code,{children:"<bool>"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"true"}),": \uaddc\ubaa8\uac00 \ud074 \uac83\uc73c\ub85c \uc608\uc0c1\ub418\ub294 pool\uc774\ub77c\ub294 \uc124\uc815\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"kubectl rook-ceph ceph osd pool autoscale-status\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"POOL"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"SIZE"}),": \uc0ac\uc6a9\uc790\uac00 \uc800\uc7a5\ud55c \ub370\uc774\ud130 \ud06c\uae30\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"TARGET SIZE"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\uad00\ub9ac\uc790\uac00 \uc608\uc0c1\ud558\ub294 ",(0,l.jsx)(n.code,{children:"SIZE"}),"\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:["autoscaler\ub294 max(targetSize, ",(0,l.jsx)(n.code,{children:"\uc2e4\uc81c \uc0ac\uc6a9\uc790\uac00 \uc800\uc7a5\ud55c \ub370\uc774\ud130 \ud06c\uae30"}),") \uac12\uc744 \uace0\ub824\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"RATE"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"\ubcf5\uc81c\ubcf8 \ub4f1\uc744 \ud3ec\ud568\ud55c \ub370\uc774\ud130 \ud06c\uae30"}),"/",(0,l.jsx)(n.code,{children:"\uc0ac\uc6a9\uc790\uac00 \uc800\uc7a5\ud55c \ub370\uc774\ud130 \ud06c\uae30"})," \uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:["\ub2e8\uc21c\ud788 ",(0,l.jsx)(n.code,{children:"\uc0ac\uc6a9\uc790\uac00 \uc800\uc7a5\ud55c \ub370\uc774\ud130"})," + ",(0,l.jsx)(n.code,{children:"\ubcf5\uc81c\ubcf8 1\uac1c"}),"\uc778 \uacbd\uc6b0 2.0\uc774 \ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"RAW CAPACITY"}),": CRUSH\uc5d0 \uc758\ud574 pool\uc774 \ub9e4\ud551\ub41c \uc800\uc7a5 \uc7a5\uce58\uc758 \ucd1d \uc6a9\ub7c9\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"RATIO"}),": ",(0,l.jsx)(n.code,{children:"SIZE"})," * ",(0,l.jsx)(n.code,{children:"RATE"})," / ",(0,l.jsx)(n.code,{children:"RAW CAPACITY"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"TARGET RATIO"}),": \uad00\ub9ac\uc790\uac00 \uc608\uc0c1\ud558\ub294 ",(0,l.jsx)(n.code,{children:"RATIO"}),"\uc785\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"EFFECTIVE RATIO"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"TARGET SIZE"}),"\uac00 \uc124\uc815\ub41c \uacbd\uc6b0 \uc608\uc0c1\ub418\ub294 \uc6a9\ub7c9\uc744 \uace0\ub824\ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"TARGET RATIO"}),"\uac12\ub4e4\uc744 \uc815\uaddc\ud654 \ud569\ub2c8\ub2e4."]}),"\n",(0,l.jsxs)(n.li,{children:["Ex) ",(0,l.jsx)(n.code,{children:"TARGET RATIO"}),"\uac00 1.0\uc778 pool\uc774 2\uac1c\uac00 \uc788\ub2e4\uba74, \uac01\uac01\uc758 ",(0,l.jsx)(n.code,{children:"EFFECTIVE RATIO"}),"\ub294 0.5\uac00 \ub429\ub2c8\ub2e4."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"BIAS"}),": \uc608\uc0c1\ub418\ub294 PG_NUM\uc5d0 \uacf1\ud558"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"PG_NUM"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"NEW PG_NUM"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AUTOSCALE"}),": ",(0,l.jsx)(n.code,{children:"on"}),"|",(0,l.jsx)(n.code,{children:"warning"}),"|",(0,l.jsx)(n.code,{children:"off"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"BULK"}),": ",(0,l.jsx)(n.code,{children:"True"}),"|",(0,l.jsx)(n.code,{children:"False"})]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>d});var l=s(96540);const c={},i=l.createContext(c);function o(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);